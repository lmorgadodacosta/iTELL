{% extends "index.html" %}
{% block body %}

<h3>Update / Compile Grammars</h3>
<br>

<div class="text-center">
  <button id="erg2018" class="btn btn-outline-dark btn-sq-lg  col-sm-3"
	  style="font-size:20px;"><b>ERG2018</b>
  </button>
  <button id="itell-erg2018"  class="btn btn-outline-dark btn-sq-lg  col-sm-3"
	  style="font-size:20px;"><b>ITELL-ERG2018</b>
  </button>
  <button id="ergTRUNK" class="btn btn-outline-dark btn-sq-lg col-sm-3"
	  style="font-size:20px;"><b>ERG-TRUNK</b>
  </button>
  <button id="zhong" class="btn btn-outline-dark btn-sq-lg col-sm-3"
	  style="font-size:20px;"><b>ZHONG</b>
  </button>
  <button id="itell-zhong" class="btn btn-outline-dark btn-sq-lg col-sm-3"
	  style="font-size:20px;"><b>ITELL-ZHONG</b>
  </button>
  <button id="jacy" class="btn btn-outline-dark btn-sq-lg col-sm-3"
	  style="font-size:20px;"><b>JACY</b><br>
  </button>
  <button id="indra" class="btn btn-outline-dark btn-sq-lg col-sm-3"
	  style="font-size:20px;"><b>INDRA</b><br>
  </button>
</div>
    
<hr>

<div id="msg"  class="text-center"> Click to update a grammar. Please don't click twice (just wait until it finishes).</div>
<div id="bash_stdout"></div>

<hr>



<script>
$(function() {
    $("#erg2018").bind("click", function() {

	var report_div = document.getElementById("bash_stdout");
	report_div.innerHTML = "<div style='text-align:center; font-size: 350%;'><i class='fa fa-spinner fa-pulse fa-4x fa-fw'></i></div>";
	var msg = document.getElementById("msg");
        msg.innerHTML = "We are currently updating the grammar<hr>";

        $.getJSON($SCRIPT_ROOT + '/delphin/_update_erg2018', {
        }, function(data) {
	    if (data.result) {
		r = String(data.result);
		msg.innerHTML = "It has finished. See results below. <hr>";
		report_div.innerHTML = r;
	    } else {
		msg.innerHTML = "";
		report_div.innerHTML = "";
		alert("Something bad happened! Please Report.");
	    }
	});
    });
});



$(function() {
    $("#ergTRUNK").bind("click", function() {

	var report_div = document.getElementById("bash_stdout");
	report_div.innerHTML = "<div style='text-align:center; font-size: 350%;'><i class='fa fa-spinner fa-pulse fa-4x fa-fw'></i></div>";
	var msg = document.getElementById("msg");
        msg.innerHTML = "We are currently updating the grammar<hr>";

        $.getJSON($SCRIPT_ROOT + '/delphin/_update_ergTRUNK', {
        }, function(data) {
	    if (data.result) {
		r = String(data.result);
		msg.innerHTML = "It has finished. See results below. <hr>";
		report_div.innerHTML = r;
	    } else {
		msg.innerHTML = "";
		report_div.innerHTML = "";
		alert("Something bad happened! Please Report.");
	    }
	});
    });
});




$(function() {
    $("#zhong").bind("click", function() {

	var report_div = document.getElementById("bash_stdout");
	report_div.innerHTML = "<div style='text-align:center; font-size: 350%;'><i class='fa fa-spinner fa-pulse fa-4x fa-fw'></i></div>";
	var msg = document.getElementById("msg");
        msg.innerHTML = "We are currently updating the grammar<hr>";

        $.getJSON($SCRIPT_ROOT + '/delphin/_update_zhong', {
        }, function(data) {
	    if (data.result) {
		r = String(data.result);
		msg.innerHTML = "It has finished. See results below. <hr>";
		report_div.innerHTML = r;
	    } else {
		msg.innerHTML = "";
		report_div.innerHTML = "";
		alert("Something bad happened! Please Report.");
	    }
	});
    });
});





$(function() {
    $("#itell-zhong").bind("click", function() {

	var report_div = document.getElementById("bash_stdout");
	report_div.innerHTML = "<div style='text-align:center; font-size: 350%;'><i class='fa fa-spinner fa-pulse fa-4x fa-fw'></i></div>";
	var msg = document.getElementById("msg");
        msg.innerHTML = "We are currently updating the grammar<hr>";

        $.getJSON($SCRIPT_ROOT + '/delphin/_update_itell-zhong', {
        }, function(data) {
	    if (data.result) {
		r = String(data.result);
		msg.innerHTML = "It has finished. See results below. <hr>";
		report_div.innerHTML = r;
	    } else {
		msg.innerHTML = "";
		report_div.innerHTML = "";
		alert("Something bad happened! Please Report.");
	    }
	});
    });
});



$(function() {
    $("#itell-erg2018").bind("click", function() {

	var report_div = document.getElementById("bash_stdout");
	report_div.innerHTML = "<div style='text-align:center; font-size: 350%;'><i class='fa fa-spinner fa-pulse fa-4x fa-fw'></i></div>";

	var msg = document.getElementById("msg");
        msg.innerHTML = "We are currently updating the grammar<hr>";

        $.getJSON($SCRIPT_ROOT + '/delphin/_update_itell-erg2018', {
        }, function(data) {
	    if (data.result) {
		r = String(data.result);
		msg.innerHTML = "It has finished. See results below. <hr>";
		report_div.innerHTML = r;
	    } else {
		msg.innerHTML = "";
		report_div.innerHTML = "";
		alert("Something bad happened! Please Report.");
	    }
	});
    });
});


$(function() {
    $("#jacy").bind("click", function() {

	var report_div = document.getElementById("bash_stdout");
	report_div.innerHTML = "<div style='text-align:center; font-size: 350%;'><i class='fa fa-spinner fa-pulse fa-4x fa-fw'></i></div>";

	var msg = document.getElementById("msg");
        msg.innerHTML = "We are currently updating the grammar<hr>";

        $.getJSON($SCRIPT_ROOT + '/delphin/_update_jacy', {
        }, function(data) {
	    if (data.result) {
		r = String(data.result);
		msg.innerHTML = "It has finished. See results below. <hr>";
		report_div.innerHTML = r;
	    } else {
		msg.innerHTML = "";
		report_div.innerHTML = "";
		alert("Something bad happened! Please Report.");
	    }
	});
    });
});


$(function() {
    $("#indra").bind("click", function() {

	var report_div = document.getElementById("bash_stdout");
	report_div.innerHTML = "<div style='text-align:center; font-size: 350%;'><i class='fa fa-spinner fa-pulse fa-4x fa-fw'></i></div>";

	var msg = document.getElementById("msg");
        msg.innerHTML = "We are currently updating the grammar<hr>";

        $.getJSON($SCRIPT_ROOT + '/delphin/_update_indra', {
        }, function(data) {
	    if (data.result) {
		r = String(data.result);
		msg.innerHTML = "It has finished. See results below. <hr>";
		report_div.innerHTML = r;
	    } else {
		msg.innerHTML = "";
		report_div.innerHTML = "";
		alert("Something bad happened! Please Report.");
	    }
	});
    });
});

</script>



{% endblock %}
